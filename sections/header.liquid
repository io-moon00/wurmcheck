<div class="bg-blue px-4 sm:px-6 lg:px-8">
  <div class="mx-auto flex h-10 max-w-6xl items-center justify-between">
    <p class="flex-1 text-center text-sm font-medium text-white">
      Erhalten Sie die Diagnosen f√ºr Hund und Katze direkt zu sich nach Hause.
    </p>
  </div>
</div>

<header class="shadow-sm flex justify-center bg-white sticky top-0 z-50 py-3 px-4 sm:px-6 lg:px-8">
  <nav class="max-w-6xl w-full justify-between" aria-label="Top">
    <div class="flex h-16 max-w-6xl items-center justify-between">
      <!-- Logo (lg+) -->
      <div class="hidden lg:flex lg:items-center">
        <a href="{{ routes.home_url }}" class="flex-shrink-0">
          <span class="sr-only">{{ shop.name }}</span>
          <img class="h-16 w-auto" src="{{ section.settings.logo | image_url }}" alt="{{ shop.name }} Logo">
        </a>
      </div>

      <div class="hidden h-full lg:flex">
        <div class="flex items-center space-x-8 ml-6">
          {% for link in linklists['main-menu'].links %}
            <a
              href="{{ link.url }}"
              class="flex items-center text-sm font-medium {% if link.url == request.path %}text-blue border-blue{% else %}text-gray-700 hover:text-gray-800 hover:border-blue border-transparent{% endif %} border-b "
            >
              {{ link.title }}
            </a>
          {% endfor %}
        </div>
      </div>

      <!-- Mobile menu and search (lg-) -->
      <div class="flex flex-1 items-center lg:hidden">
        <!-- Mobile menu toggle, controls the 'mobileMenuOpen' state. -->
        <button
          type="button"
          class="-ml-2 rounded-md bg-white p-2 text-gray-400 cursor-pointer"
          data-drawer-target="drawer-example"
          data-drawer-show="drawer-example"
          aria-controls="drawer-example"
        >
          <span class="sr-only">Open menu</span>
          <svg
            class="size-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
            data-slot="icon"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>

        <!-- Search -->
        <button type="button" class="ml-2 p-2 text-gray-400 hover:text-gray-500">
          <span class="sr-only">Search</span>
          <svg
            class="size-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
            data-slot="icon"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
          </svg>
        </button>
      </div>

      <!-- Logo (lg-) -->
      <a href="{{ routes.home_url }}" class="lg:hidden">
        <span class="sr-only">Your Company</span>
        <img src="{{ section.settings.logo | image_url }}" alt="{{ shop.name }} Logo" class="h-12 w-auto">
      </a>

      <div class="flex flex-1 items-center justify-end">
        <div class="flex items-center lg:ml-8">
          <div class="flex space-x-8">
            <div class="hidden lg:flex">
              <button  id="open-search-overlay" class="-m-2 p-2 text-gray-400 hover:text-gray-500">
                <span class="sr-only">Search</span>
                <svg
                  class="size-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                  data-slot="icon"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
            </button>
            </div>

            <div class="flex">
              <a href="{{ routes.account_login_url }}" class="-m-2 p-2 text-gray-400 hover:text-gray-500">
                <span class="sr-only">Account</span>
                <svg
                  class="size-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                  data-slot="icon"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                </svg>
              </a>
            </div>
          </div>

          <span class="mx-4 h-6 w-px bg-gray-200 lg:mx-6" aria-hidden="true"></span>

          <div class="flow-root">
            <a href="{{ routes.cart_url }}" class="group -m-2 flex items-center p-2">
              <svg
                class="size-6 shrink-0 text-gray-400 group-hover:text-gray-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                aria-hidden="true"
                data-slot="icon"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
              </svg>
              <span class="ml-2 text-sm font-medium text-gray-700 group-hover:text-gray-800">0</span>
              <span class="sr-only">items in cart, view bag</span>
            </a>
          </div>
        </div>
      </div>
    </div>
    {% render 'mobile-menu' %}
  </nav>
</header>

<!-- Search overlay -->
<div id="search-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden z-50">
    <div class="bg-white p-6 rounded-lg shadow-lg max-w-lg w-full">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold text-gray-800">Search</h2>
        <button type="button" class="text-gray-400 hover:text-gray-500" id="close-search-overlay">
          <span class="sr-only">Close search</span>
          <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <input type="text" placeholder="Search" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600">
    </div>
  </div>

  <script>
        document.addEventListener('DOMContentLoaded', function () {
      const openSearchButton = document.getElementById('open-search-overlay');
      const closeSearchButton = document.getElementById('close-search-overlay');
      const searchOverlay = document.getElementById('search-overlay');
    
      openSearchButton.addEventListener('click', function () {
        searchOverlay.classList.remove('hidden');
      });
    
      closeSearchButton.addEventListener('click', function () {
        searchOverlay.classList.add('hidden');
      });
    
      // Close the overlay when clicking outside of the search box
      searchOverlay.addEventListener('click', function (event) {
        if (event.target === searchOverlay) {
          searchOverlay.classList.add('hidden');
        }
      });
    });
    </script>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    }
  ]
}
{% endschema %}

